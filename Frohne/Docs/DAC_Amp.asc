Version 4
SHEET 1 880 680
WIRE 144 -336 64 -336
WIRE 144 -272 144 -336
WIRE 64 -240 64 -336
WIRE 224 -192 144 -192
WIRE 544 -192 304 -192
WIRE 416 -128 384 -128
WIRE 448 -128 416 -128
WIRE 384 -96 384 -128
WIRE 448 -32 448 -128
WIRE 384 16 384 -16
WIRE 768 16 720 16
WIRE 816 16 768 16
WIRE 816 48 816 16
WIRE 384 80 384 16
WIRE 240 112 240 64
WIRE 720 112 720 96
WIRE 720 112 656 112
WIRE -144 128 -240 128
WIRE 16 128 -80 128
WIRE 144 128 144 -192
WIRE 144 128 96 128
WIRE 208 128 144 128
WIRE 720 128 720 112
WIRE 384 144 272 144
WIRE 544 144 544 -192
WIRE 544 144 448 144
WIRE 592 144 544 144
WIRE 208 160 176 160
WIRE 592 176 592 144
WIRE -240 192 -240 128
WIRE 720 224 720 208
WIRE 816 224 816 128
WIRE 816 224 720 224
WIRE 816 240 816 224
WIRE 384 272 384 208
WIRE 592 304 592 240
WIRE -240 320 -240 272
WIRE 384 320 384 272
WIRE 416 400 384 400
WIRE 448 400 448 320
WIRE 448 400 416 400
WIRE 592 416 592 384
WIRE 416 432 416 400
FLAG 240 176 0
FLAG 816 240 0
FLAG -240 320 0
FLAG 768 16 VCC
FLAG 240 64 VCC
FLAG 416 -128 VCC
FLAG 416 432 0
FLAG 656 112 VH
FLAG 176 160 VH
FLAG 64 -240 0
FLAG 544 144 Vo
FLAG -240 128 Vi
FLAG 592 416 0
SYMBOL Opamps\\UniversalOpAmp4 240 144 R0
SYMATTR InstName U1
SYMBOL voltage 816 32 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 112 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL res 320 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL npn 384 -32 R0
SYMATTR InstName Q1
SYMBOL pnp 384 320 M180
SYMATTR InstName Q2
SYMBOL res 432 48 R0
SYMATTR InstName R3
SYMATTR Value 1
SYMBOL res 432 128 R0
SYMATTR InstName R4
SYMATTR Value 1
SYMBOL diode 368 80 R0
SYMATTR InstName D1
SYMBOL diode 368 144 R0
SYMATTR InstName D2
SYMBOL res 368 -112 R0
SYMATTR InstName R5
SYMATTR Value 1.5k
SYMBOL res 368 304 R0
SYMATTR InstName R6
SYMATTR Value 1.5k
SYMBOL cap -80 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL voltage -240 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V2
SYMATTR Value SINE(1.6 0.01 10000)
SYMATTR SpiceLine Rser=100
SYMBOL res 704 0 R0
SYMATTR InstName R7
SYMATTR Value 2.2k
SYMBOL res 704 112 R0
SYMATTR InstName R8
SYMATTR Value 2.2k
SYMBOL current 144 -272 R0
WINDOW 3 40 38 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I1
SYMATTR Value 200n
SYMBOL res 576 288 R0
SYMATTR InstName R9
SYMATTR Value 32
SYMBOL cap 576 176 R0
SYMATTR InstName C2
SYMATTR Value 100µ
TEXT -274 456 Left 2 !.tran 0 0.5 0.49
